<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前言 | MixAdmin文档</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.fab77d47.css" as="style"><link rel="preload" href="/assets/js/app.4dedd86f.js" as="script"><link rel="preload" href="/assets/js/2.73676cd6.js" as="script"><link rel="preload" href="/assets/js/3.3f2bcc02.js" as="script"><link rel="prefetch" href="/assets/js/10.e45dec42.js"><link rel="prefetch" href="/assets/js/11.9c2d1466.js"><link rel="prefetch" href="/assets/js/12.09efdb6b.js"><link rel="prefetch" href="/assets/js/4.22d8c528.js"><link rel="prefetch" href="/assets/js/5.246d9f15.js"><link rel="prefetch" href="/assets/js/6.a689a74c.js"><link rel="prefetch" href="/assets/js/7.b3556ba9.js"><link rel="prefetch" href="/assets/js/8.6192eb9e.js"><link rel="prefetch" href="/assets/js/9.1762e2dc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fab77d47.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">MixAdmin文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>说明</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/introduction/" class="sidebar-link">简介</a></li><li><a href="/introduction/start/" class="sidebar-link">快速开始</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>管理后台</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/admin/database.html" class="sidebar-link">数据库管理</a></li><li><a href="/admin/menu.html" class="sidebar-link">菜单管理</a></li><li><a href="/admin/page.html" aria-current="page" class="active sidebar-link">页面管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/admin/page.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/admin/page.html#绑定表" class="sidebar-link">绑定表</a></li><li class="sidebar-sub-header"><a href="/admin/page.html#表结构" class="sidebar-link">表结构</a></li><li class="sidebar-sub-header"><a href="/admin/page.html#添加联表列" class="sidebar-link">添加联表列</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>这部分是整个项目最重要、也是最复杂的地方</p> <p>后续将支持<code>触发器</code>、<code>存储过程</code>的设置</p></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>每个页面的核心都对应着一张表</p></div> <p>一个页面的<strong>增删改</strong>都只能操作一张表</p> <p>但是<strong>查</strong>稍微不同，目前在定义<strong>数据库查询</strong>的时候已经支持联表查询了</p> <p>自定义页面的增删改查都是围绕着一张表进行的，所以新建页面就要先<strong>绑定表</strong></p> <h2 id="绑定表"><a href="#绑定表" class="header-anchor">#</a> 绑定表</h2> <p>进入菜单<code>管理/页面管理</code></p> <p><img src="/assets/img/page-database.0b99a545.png" alt="选择数据库表"></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>在<code>数据库连接</code>下拉框中的每一项，显示的名称就是设置的 <a href="/admin/database.html#设置别名">别名</a></p></div> <ul><li><p>数据库连接：<a href="/admin/database.html">数据库管理</a> 中所有创建的数据库连接</p></li> <li><p>数据库：当前选择的数据库连接中的数据库列表</p></li> <li><p>表：当前选择的数据库中的所有表</p></li></ul> <p>选择数据库连接 -&gt; 选择数据库 -&gt; 选择表以后，下方的<code>新增页面</code>按钮就会激活，就可以点击按钮打开新增页面浮层，开始创建自定义页面了</p> <h2 id="表结构"><a href="#表结构" class="header-anchor">#</a> 表结构</h2> <p><img src="/assets/img/table-fields.e0b23a30.png" alt="表结构"></p> <p>表结构的数据是由<code>DESC TABLE_NAME</code>而来，并在此基础上扩展了几个字段，先只介绍一个</p> <ul><li>展示：该字段是否在自定义页面中的表格中展示</li></ul> <p>勾选的字段可以在表格区做进一步的设置，比如<code>展示形式</code>、<code>关联显示</code>等等</p> <p>现在勾选几个字段，然后前往<code>表格区</code></p> <h2 id="添加联表列"><a href="#添加联表列" class="header-anchor">#</a> 添加联表列</h2> <p>现在可以看到表格区的表格中，有几个字段，这就是上一步中勾选的字段</p> <p><img src="/assets/img/page-table-area.76462452.png" alt="表格区"></p> <p>现在这些字段属于<code>基本列</code>，是所绑定表中已有的字段，那如果想通过<code>article</code>表中的<code>subject_id</code>获取<code>subject</code>表中对应的<code>title</code>字段就需要联表查询了</p> <p>点击<code>添加联表列</code>按钮打开联表查询浮层</p> <p><img src="/assets/img/page-table-join.16d47dfd.png" alt="表格区"></p> <p>标题栏上注明了当前绑定的表是<code>idle.article</code>，表示当前数据库是<code>idle</code>，当前基础表是<code>article</code>表</p> <p>下方的<code>JOIN 1</code>表示其整体是一个联表查询语句，<code>LEFT JOIN</code>是预设值，也可以选择<code>RIGHT JOIN</code>、<code>INNER JOIN</code>等</p> <p>设置关联表以后会显示出详细设置</p> <p><img src="/assets/img/join-detail.f2a746cc.png" alt="表格区"></p> <ul><li>选取字段：这里可以设置想要从其他表中获取哪些字段，也可以留空</li></ul> <p>下方的条件语句就是联表查询中的<code>ON</code></p> <p>在这里主要分为两个部分，一个是基础条件，一个是组，可以任选其一设置，也可以都设置</p> <ul><li><p>关联表_字段：在这里表示<code>subject</code>表(上方设置的关联表)的所有字段</p></li> <li><p>条件：目前内置有<code>=</code>、<code>!=</code>、<code>&gt;</code>、<code>&lt;</code>、<code>LIKE</code>、<code>ISNULL</code>、<code>IS NOT NULL</code>等（其中<code>LIKE</code>稍微特殊，后面会说）</p></li> <li><p>绑定表_字段：在这里展示<code>article</code>表的所有字段</p></li></ul> <p>先不管组，现在的需求是通过<code>article.subject_id</code>和<code>subject.subject_id</code>关联获取到<code>title</code>，那么原生SQL应该是这样写：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> subject<span class="token punctuation">.</span>title
<span class="token keyword">FROM</span> articleLEFT
	<span class="token keyword">JOIN</span> subject <span class="token keyword">ON</span> article<span class="token punctuation">.</span>subject_id <span class="token operator">=</span> subject<span class="token punctuation">.</span>subject_id<span class="token punctuation">;</span>
</code></pre></div><p>现在来通过配置基础条件来达到这样的效果：</p> <p><img src="/assets/img/join-detail.f2a746cc.png" alt="表格区"></p> <p>然后点击下方的<code>预览SQL语句</code>按钮看一下生成的SQL：</p> <p><img src="/assets/img/preview-sql.1ce7c68c.png" alt="SQL预览"></p> <p>和预期的表现一致，点击<code>执行SQL</code>按钮看下返回的数据：</p> <p><img src="/assets/img/exec-sql.4dd5bbca.png" alt="执行SQL"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/admin/menu.html" class="prev">
        菜单管理
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4dedd86f.js" defer></script><script src="/assets/js/2.73676cd6.js" defer></script><script src="/assets/js/3.3f2bcc02.js" defer></script>
  </body>
</html>
